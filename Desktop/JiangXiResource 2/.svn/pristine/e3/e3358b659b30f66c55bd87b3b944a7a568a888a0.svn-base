//
//  QRCordViewController.h
//  YDResourceManagement
//
//  Created by 吴新杰 on 15/11/13.
//  Copyright © 2015年 wuxinjie. All rights reserved.
//

#import <UIKit/UIKit.h>
#import <AVFoundation/AVFoundation.h>
#import "BaseViewController.h"
typedef NS_ENUM(NSInteger, QRType) {
    QRTypeDefault,              // 默认扫码,导航栏
    QRTypeMap,                  // 地图扫码
    QRTypeFeedback,             // 问题反馈（暂时不用）
    QRTypeChatViewController,   // 问题反馈 (聊天页面)
};

@interface QRCordViewController : BaseViewController<AVCaptureMetadataOutputObjectsDelegate>
{
    int num;
    BOOL upOrdown;
    NSTimer * timer;
}
@property (strong, nonatomic) AVCaptureDevice * device;
@property (strong, nonatomic) AVCaptureDeviceInput * input;
@property (strong, nonatomic) AVCaptureMetadataOutput * output;
@property (strong, nonatomic) AVCaptureSession * session;
@property (strong, nonatomic) AVCaptureVideoPreviewLayer * preview;
@property (retain, nonatomic) UIImageView * line;
/**
 *  二维码来源
 */
@property (nonatomic, assign) QRType qrType;
@property (nonatomic, copy) void(^qrCallBack)(NSDictionary *);

@end
